<ion-view title="重置密码"  cache-view="false" hide-back-button="false" has-header="true" hide-nav-bar="false">
    <ion-content class="padding" scroll="false">
        <form name="myForm" novalidate="novalidate">
            <div class="list">
                <div class="item item-icon-left">
                    <i class="icon ion-iphone"></i>
                    <span class="item-input">
                        <input type="tel" name="phone" placeholder="手机号码" ng-model="ctrl.phoneNumber" ng-pattern="/^(13[0-9]|14[0-9]|15[0-9]|18[0-9])\d{8}$/i" required >
                    </span>                         
                </div>

                <span style="color:red" ng-show="myForm.phone.$dirty && myForm.phone.$invalid">
                    <span ng-show="myForm.phone.$error.required">电话号码是必须的。</span>
                    <span ng-show="myForm.phone.$invalid">电话号码不正确。</span>
                </span>

                <div class="item item-icon-left" ng-class="disableValidcode ? 'validcode-disable-bg' : 'validcode-bg'">
                    <i class="icon ion-ios-checkmark-outline"></i>
                    <span class="validcode">
                        <input type="tel" placeholder="验证码" ng-model="ctrl.valideCode" required>
                        <!--<a class="dark text-center" ng-click="getAuthcode()">获取验证码</a> -->
                        <button class="button button-positive" ng-click="ctrl.getAuthcode()">获取验证码</button>
                    </span>
                </div>
                <div class="item item-icon-left">
                    <i class="icon ion-key"></i>
                    <span class="item-input">
                        <input type="password" id="password" name="password" placeholder="新密码" ng-model="ctrl.password" ng-minlength="5" ng-maxlength="20" required>
                        <a href="" ng-click="ctrl.showPassword()" class="show-password">
                        <i class="fa fa-eye" id="openEye" ng-show="ctrl.openEye" aria-hidden="true"></i>
                        <i class="fa fa-eye-slash" id="closeEye" ng-hide="ctrl.openEye" aria-hidden="true"></i>
                        </a>
                    </span>
                </div>

                <span style="color:red" ng-show="myForm.password.$dirty && myForm.password.$invalid">
                    <span ng-show="myForm.password.$error.required">密码是必须的。</span>
                <span ng-show="myForm.password.$invalid">密码长度必须为5到20位</span>
                </span>
            </div>

            <a class="button button-block button-positive button-large " type="button" ng-click="ctrl.resetPassword()" ng-disabled="myForm.$invalid">重置密码</a>
            
        </form>
    </ion-content>
</ion-view>